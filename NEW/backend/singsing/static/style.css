:root{
  --sidebar-collapsed:72px;
  --sidebar-expanded:260px;

  --bg:#f5f6f8;
  --ink:#0f172a;

  --sidebar:#2f333a;
  --hover:#3b4048;
  --text:#e5e7eb;

  --brand:#e2211c;
  --brand-700:#cc1d19;

  --card:#ffffff;
  --line:#e5e7eb;
  --muted:#6b7280;
  --ring:rgba(59,130,246,.35);
  --success:#22c55e;

  --shadow:0 8px 24px rgba(15,23,42,.08);
}

/* ------------- Base ------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:var(--bg);color:var(--ink);
  font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  overflow-y:auto;overflow-x:hidden;
}
a,button,input,select,textarea{outline:none}
:focus-visible{outline:3px solid var(--ring);outline-offset:2px}

/* ------------- Layout ------------- */
/* We let content flow as a single column; sidebar is fixed overlay */
.app{
  display:block;
  min-height:100vh;
}

/* keep content visible beside the collapsed rail */
main{padding:18px 22px 28px  calc(var(--sidebar-collapsed) + 14px);}

/* ------------- Sidebar (fixed + scrollable, never cut) ------------- */
aside.sidebar{
  position:fixed; inset:0 auto 0 0;           /* left:0; top:0; bottom:0 */
  width:var(--sidebar-collapsed);
  height:100vh;
  background:var(--sidebar); color:var(--text);
  overflow-y:auto; overflow-x:hidden;
  z-index:2000; box-shadow:2px 0 12px rgba(0,0,0,.25);
  transition:width .28s cubic-bezier(.2,.65,.2,1);
  overscroll-behavior:contain;
}

/* expand on hover or when JS adds .sb-open to <html> */
html.sb-open aside.sidebar,
aside.sidebar:hover{ width:var(--sidebar-expanded); }

/* thin scrollbar so it looks neat */
aside.sidebar::-webkit-scrollbar{width:8px}
aside.sidebar::-webkit-scrollbar-thumb{background:#444;border-radius:6px}
aside.sidebar::-webkit-scrollbar-track{background:transparent}

/* logo */
aside .logo{
  display:flex; align-items:center; gap:10px;
  padding:18px 16px; border-bottom:1px solid rgba(255,255,255,.06);
  cursor:pointer; position:sticky; top:0; background:var(--sidebar); z-index:1;
}
.logo .mark{width:28px;height:28px;border-radius:6px;background:var(--brand);display:grid;place-items:center;flex:0 0 28px;}
.logo .brand{
  color:#fff; line-height:1.15; letter-spacing:.2px;
  max-width:0; opacity:0; overflow:hidden; white-space:nowrap;
  transition:max-width .22s cubic-bezier(.2,.65,.2,1) .05s, opacity .18s ease .06s;
}
.logo .brand small{display:block;color:#cbd5e1;font-weight:600;}
html.sb-open .logo .brand,
aside.sidebar:hover .logo .brand{max-width:220px;opacity:1}

/* nav */
.nav{padding:8px}
.nav a{
  display:grid; grid-template-columns:24px 1fr; align-items:center; column-gap:12px;
  color:var(--text); text-decoration:none;
  padding:10px 12px; margin:6px 8px; border-radius:12px;
  transition:background .15s ease,color .15s ease; min-height:40px; cursor:pointer;
  -webkit-tap-highlight-color:transparent;
}
.nav a:hover{background:var(--hover)}
.nav a.active{background:var(--hover)}
.nav a svg{width:20px;height:20px;justify-self:center;opacity:.95}
.nav a .label{opacity:0;white-space:nowrap;transition:opacity .16s ease .05s;display:flex;align-items:center}
html.sb-open .nav a .label,
aside.sidebar:hover .nav a .label{opacity:1}

/* logout in nav */
.logout-btn{margin-top:8px}
.logout-btn .label{opacity:0;transition:opacity .16s ease .05s}
html.sb-open .logout-btn .label,
aside.sidebar:hover .logout-btn .label{opacity:1}

/* ------------- Topbar ------------- */
.topbar{
  position:sticky; top:0; z-index:110; /* above cards but below sidebar (z 2000) */
  background:#fff; box-shadow:var(--shadow);
  display:flex; align-items:center; gap:12px;
  padding:12px 16px;
  border-radius:12px; /* looks nicer when scrolling under the rail */
}

/* search */
.search{position:relative;flex:0 1 420px;max-width:420px;width:100%}
.search input{
  width:100%;height:36px;padding:10px 12px 10px 44px !important;
  border:1px solid var(--line); border-radius:10px; background:#fff;
}
.search svg{
  position:absolute; left:12px; top:50%; transform:translateY(-50%);
  width:18px;height:18px;opacity:.55;pointer-events:none;
}

/* year select pinned right */
.year-select{
  margin-left:auto !important; flex:0 0 auto; width:auto !important;
  height:36px; min-width:110px; padding:6px 10px;
  font-size:13.5px; line-height:1;
  border:1px solid var(--line); border-radius:10px; background:#fff;
  -webkit-appearance:menulist; appearance:menulist;
}

/* ------------- Cards / content ------------- */
.container{max-width:1400px;margin:0 auto;padding:20px}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:18px 20px;
  box-shadow:0 1px 1px rgba(0,0,0,.02);
}
.row{display:grid;gap:16px}

/* ------------- Type ------------- */
h1,h2,h3{margin:0 0 6px}
h1{font-size:26px}
h2{font-size:18px}
.card>p{margin:0 0 14px;color:var(--muted);font-size:12.5px}

/* ------------- Inputs & Buttons ------------- */
label{font-size:12px;color:#6b7280;margin:8px 0 6px;display:block}
input[type="text"],input[type="email"],input[type="password"],select,textarea{
  width:100%;border:1px solid #d1d5db;background:#f9fafb;
  border-radius:10px;padding:11px 12px;font-size:13.5px;color:#374151;
}
input::placeholder{color:#9ca3af}

/* password eye */
.input-with-eye{position:relative}
.input-with-eye input{padding-right:42px}
.input-with-eye .eye{
  position:absolute; right:6px; top:50%; transform:translateY(-50%);
  border:none;background:transparent;cursor:pointer;
  width:30px;height:30px;display:grid;place-items:center;border-radius:8px;color:#6b7280;
}
.input-with-eye .eye:hover{background:#eef2f7}

/* buttons */
.btn{appearance:none;border:none;border-radius:10px;padding:11px 14px;font-weight:700;cursor:pointer;transition:filter .12s ease,transform .02s ease}
.btn:active{transform:translateY(1px)}
.btn.save,.btn.update{background:var(--success);color:#fff}
.btn.save:hover,.btn.update:hover{filter:brightness(.96)}
.btn.primary{background:var(--brand);color:#fff}
.btn.primary:hover{background:var(--brand-700)}
.btn.gray{background:#e5e7eb}
.btn.red{background:#ef4444;color:#fff}

/* --- Buttons spacing per your request --- */
.profile-card .btn.save{margin-top:12px}                    /* close to Email */
.password-card .btn.update{margin-top:18px}                 /* farther from Confirm */

/* ------------- Settings grid ------------- */
.settings-grid{
  display:grid;
  grid-template-columns:1.1fr 1fr;
  grid-template-areas:
    "profile password"
    "profile appearance";
  gap:22px;
}
.profile-card{grid-area:profile}
.password-card{grid-area:password}
.appearance-card{grid-area:appearance}

/* profile avatar */
.profile-card .profile-pic{
  width:164px;height:164px;border-radius:999px;border:1px dashed #d1d5db;
  display:grid;place-items:center;margin:6px 0 16px;background:#f9fafb;overflow:hidden;
}
.profile-card .profile-pic img{width:100%;height:100%;object-fit:cover}

/* profile fields grid */
.profile-card .fields{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.profile-card .fields .full{grid-column:1/-1}

/* appearance demo */
.themes{display:flex;gap:18px;margin-top:12px;flex-wrap:wrap}
.theme{
  width:208px;height:148px;border-radius:12px;border:1px solid #d1d5db;background:#f8fafc;position:relative;box-shadow:inset 0 1px 0 rgba(0,0,0,.02);
  cursor:pointer;transition:box-shadow .15s ease,transform .04s ease;
}
.theme:hover{box-shadow:0 0 0 3px rgba(59,130,246,.15)}
.theme:active{transform:translateY(1px)}
.theme.dark{background:#1f2937;border-color:#111827}
.theme::before,.theme::after{
  content:"";position:absolute;left:12px;right:12px;height:16px;border-radius:6px;top:18px;background:#e5e7eb;box-shadow:0 32px 0 0 #e5e7eb,0 64px 0 0 #e5e7eb;
}
.theme.dark::before{background:#334155;box-shadow:0 32px 0 0 #334155,0 64px 0 0 #334155}
.theme::after{background:#9ca3af;width:110px;top:18px;left:calc(100% - 122px);box-shadow:0 32px 0 0 #9ca3af,0 64px 0 0 #9ca3af}
.theme.dark::after{background:#0ea5e9;width:110px;top:18px;left:calc(100% - 122px);box-shadow:0 32px 0 0 #0ea5e9,0 64px 0 0 #0ea5e9}
.theme.is-selected{outline:3px solid rgba(34,197,94,.45);outline-offset:2px}

/* ------------- Tables ------------- */
.table{width:100%;border-collapse:separate;border-spacing:0 8px;font-size:13.5px}
.table thead th{text-align:left;font-weight:800;color:#6b7280;padding:8px 10px;border-bottom:1px solid var(--line)}
.table tbody tr{background:#fff;box-shadow:0 1px 0 rgba(0,0,0,.02)}
.table tbody td{padding:10px 10px;border-top:1px solid #f0f2f5;border-bottom:1px solid #f0f2f5}
.table .actions{display:flex;gap:8px;justify-content:flex-end}
.icon-btn{display:inline-grid;place-items:center;width:32px;height:32px;border:0;border-radius:8px;background:#f3f4f6;cursor:pointer}
.icon-btn:hover{background:#e5e7eb}
.icon{width:18px;height:18px}

/* ------------- Modals ------------- */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(15,23,42,.55);
  display:none; align-items:center; justify-content:center; z-index:4000;
}
.modal{width:min(560px,92vw); background:#fff; border-radius:16px; padding:22px; box-shadow:var(--shadow)}
.modal h3{font-size:18px;margin-bottom:8px}
.modal .modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:18px}

/* ------------- Login page ------------- */
body.login{
  min-height:100vh; display:flex; align-items:center; justify-content:center;
  background:url("/static/singsing.jpg") center/cover no-repeat fixed; position:relative;
}
body.login::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.35)}
.login-shell{
  position:relative; z-index:1; width:min(1150px,92vw);
  display:grid; grid-template-columns:1fr 1fr; border-radius:6px; overflow:hidden;
}
.panel-left{backdrop-filter:blur(2px);background:rgba(255,255,255,.92);padding:34px 28px 26px;display:flex;flex-direction:column;justify-content:space-between}
.panel-right{backdrop-filter:blur(2px);background:rgba(226,33,28,.92);color:#fff;padding:34px 28px 26px;display:flex;flex-direction:column;justify-content:center}
.content{max-width:560px;margin:0 auto;width:100%}
.header-box{width:100%;padding:16px 18px 18px;border-radius:6px;margin-bottom:18px;text-transform:uppercase;line-height:1.15}
.panel-left .header-box{background:#e2211c;color:#fff}
.panel-left .header-box small{display:block;font-weight:700}
.panel-left .header-box h2{margin:4px 0 0;font-size:28px}
.panel-right .header-box{background:#fff;color:#e2211c;font-weight:800;margin-bottom:22px}
.panel-right .header-box h2{margin:0;font-size:22px;line-height:1.3}
.field,.field-white,.btn-red,.btn-white{width:100%}
.field,.field-white{border:0;border-radius:6px;padding:12px 14px;margin:12px 0;box-shadow:0 0 0 1px #e5e7eb inset;background:#fff;color:#111}
.btn-red{border:0;border-radius:6px;padding:13px 14px;margin-top:10px;background:#e2211c;color:#fff;font-weight:800;cursor:pointer}
.btn-red:hover{background:#cc1d19}
.btn-white{border:0;border-radius:6px;padding:13px 14px;margin-top:10px;background:#fff;color:#e2211c;font-weight:800;cursor:pointer}
.btn-white:hover{background:#f3f4f6}
.forgot{margin:6px 0 -2px;text-align:right}
.forgot a{font-size:12px;color:#3b82f6;text-decoration:none}
.forgot a:hover{text-decoration:underline}
.footer{text-align:center;color:#e2211c;font-weight:700;margin-top:20px;font-size:12px}

/* ------------- Responsive ------------- */
@media (max-width:1200px){
  .settings-grid{grid-template-columns:1fr;grid-template-areas:"profile" "password" "appearance"}
}
@media (max-width:900px){
  .search{max-width:320px}
}
@media (max-width:780px){
  main{padding-left:calc(var(--sidebar-collapsed) + 8px)}
  .search{max-width:260px}
  .profile-card .fields{grid-template-columns:1fr}
}

/* ===== Modal centering overrides (like your 2nd photo) ===== */
.modal{
  text-align:center;                /* center the title/text */
}
.modal .modal-actions{
  justify-content:center !important;/* center buttons horizontally */
  gap:12px;
  flex-direction:row-reverse;       /* shows "Yes" first if HTML is [Cancel][Yes] */
}
